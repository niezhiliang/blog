webpackJsonp([1],{"0ka3":function(t,e){},F7R4:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},i=n("VU/8")({name:"App"},s,!1,null,null,null).exports,l=n("/ocq"),o={name:"index",data:function(){return{student:{id:"",name:"",sex:"",age:""},upstu:{id:"",name:"",sex:"",age:""},editDialogVisible:!1,db:"",deleteid:"",self:this,values:[]}},created:function(){this.create_websql(),this.get_data()},methods:{create_websql:function(){this.db=openDatabase("mydb","1.0","Test DB",2097152),this.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS STUDENT (id unique, name, sex, age)")})},add_data:function(){var t=Date.parse(new Date);console.log(t);var e=this.student.name,n=this.student.sex,a=this.student.age;this.db.transaction(function(s){s.executeSql("CREATE TABLE IF NOT EXISTS STUDENT (id unique, name, sex, age)"),s.executeSql("INSERT INTO STUDENT (id, name, sex, age) VALUES (?, ?, ?, ?)",[t,e,n,a])}),this.get_data(),this.student.age="",this.student.sex="",this.student.name=""},get_data:function(){var t=new Array;this.db.transaction(function(e){e.executeSql("SELECT * FROM STUDENT",[],function(e,n){var a,s=n.rows.length;for(a=0;a<s;a++){var i=n.rows.item(a).name,l=n.rows.item(a).sex,o=n.rows.item(a).age,u=n.rows.item(a).id,c=new Object;c.name=i,c.age=o,c.id=u,c.sex=l,t.push(c)}},null)}),this.values=t},remove_data:function(t,e){var n=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.db.transaction(function(t){t.executeSql("DELETE FROM STUDENT WHERE id = ?",[e.id])}),n.get_data(),n.$message({type:"success",message:"删除成功!"})}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},init_form:function(t,e){this.editDialogVisible=!0,this.upstu.name=e.name,this.upstu.sex=e.sex,this.upstu.age=e.age,this.upstu.id=e.id},update_date:function(){var t=this.upstu.name,e=this.upstu.sex,n=this.upstu.age,a=this.upstu.id;this.db.transaction(function(s){s.executeSql("UPDATE STUDENT SET name = ?,sex = ?,age=? WHERE id=?",[t,e,n,a])}),this.get_data(),this.editDialogVisible=!1}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",[n("i-col",{style:{marginTop:"50px"},attrs:{lg:12,offset:"6"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n            数据添加\n        ")]),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[t._v("\n          姓名："),n("i-input",{staticStyle:{width:"220px"},attrs:{size:"large",placeholder:"姓名"},model:{value:t.student.name,callback:function(e){t.$set(t.student,"name",e)},expression:"student.name"}}),t._v("\n          性别："),n("i-input",{staticStyle:{width:"220px"},attrs:{size:"large",placeholder:"性别"},model:{value:t.student.sex,callback:function(e){t.$set(t.student,"sex",e)},expression:"student.sex"}}),t._v("\n          年龄："),n("i-input",{staticStyle:{width:"220px"},attrs:{size:"large",placeholder:"年龄"},model:{value:t.student.age,callback:function(e){t.$set(t.student,"age",e)},expression:"student.age"}}),t._v(" "),n("i-button",{attrs:{type:"info"},on:{click:t.add_data}},[t._v("添加")])],1)]),t._v(" "),n("Card",{staticStyle:{"margin-top":"60px"}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n          数据展示\n        ")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.values}},[n("el-table-column",{attrs:{label:"ID",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.id))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"性别",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.sex))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"年龄",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.age))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){t.init_form(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.remove_data(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"编辑",visible:t.editDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.editDialogVisible=e}}},[t._v("\n      姓名："),n("el-input",{attrs:{placeholder:"编辑姓名"},model:{value:t.upstu.name,callback:function(e){t.$set(t.upstu,"name",e)},expression:"upstu.name"}}),t._v("\n      性别："),n("el-input",{attrs:{placeholder:"编辑性别"},model:{value:t.upstu.sex,callback:function(e){t.$set(t.upstu,"sex",e)},expression:"upstu.sex"}}),t._v("\n      年龄："),n("el-input",{attrs:{placeholder:"编辑年龄"},model:{value:t.upstu.age,callback:function(e){t.$set(t.upstu,"age",e)},expression:"upstu.age"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.update_date}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(o,u,!1,function(t){n("F7R4")},"data-v-7f738676",null).exports,r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i-button",{attrs:{type:"primary"},on:{click:function(e){t.modal1=!0}}},[t._v("显示对话框")]),t._v(" "),n("Modal",{attrs:{visible:t.modal1,title:"普通的Modal对话框标题"},on:{"update:visible":function(e){t.modal1=e},"on-ok":t.ok,"on-cancel":t.cancel}},[n("p",[t._v("对话框内容")]),t._v(" "),n("p",[t._v("对话框内容")]),t._v(" "),n("p",[t._v("对话框内容")])])],1)},staticRenderFns:[]},d=n("VU/8")({data:function(){return{modal1:!1}},methods:{ok:function(){this.$Message.info("点击了确定")},cancel:function(){this.$Message.info("点击了取消")}}},r,!1,null,null,null).exports;a.default.use(l.a);var p=new l.a({routes:[{path:"/",component:i,children:[{path:"/",component:c,name:"index"},{path:"/l",component:d,name:"l"}]}]}),f=n("oiyU"),m=n.n(f),v=(n("s72s"),n("dVeB")),_=n.n(v);n("0ka3");a.default.config.productionTip=!1,a.default.use(m.a),a.default.use(_.a),new a.default({el:"#app",router:p,components:{App:i},template:"<App/>"})},s72s:function(t,e){}},["NHnr"]);